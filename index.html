<!DOCTYPE html>
<html>
<head>
  <!-- adSense verification code -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
      (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-3407068354362458",
          enable_page_level_ads: true
      });
  </script>
  <meta charset="utf-8">
  
  <title>Jiří Krepl</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Jiří Krepl">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Jiří Krepl">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jiří Krepl">
  
    <link rel="alternate" href="/atom.xml" title="Jiří Krepl" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jiří Krepl</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Top-ten-Meteor-tips-and-tricks" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/10/Top-ten-Meteor-tips-and-tricks/" class="article-date">
  <time datetime="2017-06-10T15:02:11.000Z" itemprop="datePublished">2017-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/10/Top-ten-Meteor-tips-and-tricks/">Top ten Meteor tips and tricks</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-Use-validated-methods"><a href="#1-Use-validated-methods" class="headerlink" title="#1 Use validated methods"></a>#1 Use validated methods</h2><p><a href="https://github.com/meteor/validated-method" target="_blank" rel="external">Validated method</a> use object which represents your method.<br>Any method can be exported from the place of its definition and imported anywhere (using ES6 import/export).<br>This is better then call methods by a magic string name <code>Meteor.call(&#39;someMagicNameOfMethod&#39;);</code></p>
<p>Another great think is that you have build in argument validation which uses <a href="https://github.com/aldeed/meteor-simple-schema" target="_blank" rel="external">simple schema</a>.</p>
<h4 id="How-to-create-and-call-validated-method"><a href="#How-to-create-and-call-validated-method" class="headerlink" title="How to create and call validated method"></a>How to create and call validated method</h4><p>Define method <em>getExerciseProgress</em> on server:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> getExerciseProgress = <span class="keyword">new</span> ValidatedMethod(&#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">'exercises.getExerciseProgress'</span>,</div><div class="line">    <span class="attr">validate</span>: <span class="keyword">new</span> SimpleSchema(&#123;<span class="attr">lessonUrl</span>: Lessons.simpleSchema().schema(<span class="string">'lessonUrl'</span>)&#125;).validator(),</div><div class="line">    run(&#123;lessonUrl&#125;) &#123;</div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>Then call method <em>getExerciseProgress</em> on client:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// import method at the beginning of the file</span></div><div class="line"><span class="keyword">import</span> &#123;getExerciseProgress&#125; <span class="keyword">from</span> <span class="string">"/imports/api/exercises/methods"</span>;</div><div class="line"></div><div class="line"><span class="comment">// call the method</span></div><div class="line">getExerciseProgress.call(&#123;<span class="attr">lessonUrl</span>: <span class="keyword">this</span>.lessonUrl&#125;, (error, result) =&gt; &#123;</div><div class="line">    <span class="comment">// do something here with error or result     </span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="2-Don’t-use-HTML-comments-use-Blaze-comments"><a href="#2-Don’t-use-HTML-comments-use-Blaze-comments" class="headerlink" title="#2 Don’t use HTML comments, use Blaze comments"></a>#2 Don’t use HTML comments, use Blaze comments</h2><p>Don’t you html comments when working with Blaze:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- this is HTML comment --&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></div><div class="line">  ...</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>HTML comments will be bundled your into your production code. You don’t want that, because every byte counts.<br>Moreover why provide any extra information about how your frontend works.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;! this is Blaze single line comment&#125;&#125; </div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></div><div class="line">  ...</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">&#123;&#123;!-- This is a block comment.</div><div class="line">We can write &#123;&#123;foo&#125;&#125; and it doesn't matter.</div><div class="line">&#123;&#123;#with x&#125;&#125;This code is commented out.&#123;&#123;/with&#125;&#125;</div><div class="line">--&#125;&#125;</div></pre></td></tr></table></figure>
<p>See more in <a href="http://blazejs.org/api/spacebars.html#Comment-Tags" target="_blank" rel="external">documentation</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/06/10/Top-ten-Meteor-tips-and-tricks/" data-id="cj3rk01c6000614d2fdho7zid" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Meteor-Codeship" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/13/Meteor-Codeship/" class="article-date">
  <time datetime="2016-09-13T16:45:09.000Z" itemprop="datePublished">2016-09-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/13/Meteor-Codeship/">Meteor + Codeship</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In my last <a href="/2016/08/10/Meteor-acceptance-testing/" title="Article">Article</a> I wrote about acceptance tests in <a href="https://www.meteor.com/" target="_blank" rel="external">Meteor</a>. We could run those test periodically locally e.g. before every push to VCS.<br>Much better solution is to use some Continuous Integration (CI) server. CI can build our app, install dependencies and run tests after each push to VCS.</p>
<p>My favourite CI server right now is <a href="codeship.com">Codeship</a>. They have great <a href="https://en.wikipedia.org/wiki/User_experience_design" target="_blank" rel="external">UX</a> and offer free plan for Bitbucket.<br>At Codeship you have to set commands which install your app and then run your tests. This is done trough <em>project settings</em> at Codeship website.</p>
<h2 id="Setup-commands"><a href="#Setup-commands" class="headerlink" title="Setup commands"></a>Setup commands</h2><p>This section should install anything which is needed to run your app and tests.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Install node</span></div><div class="line">nvm install 4.0</div><div class="line"><span class="comment"># Install npm packages</span></div><div class="line">npm install -g chimp coffee-script spacejam@1.6.2-rc.1</div><div class="line"></div><div class="line"><span class="comment"># Install meteor</span></div><div class="line">curl -o meteor_install_script.sh https://install.meteor.com/</div><div class="line">chmod +x meteor_install_script.sh</div><div class="line"><span class="comment"># get sudo for Meteor install script </span></div><div class="line">sed -i <span class="string">"s/type sudo &gt;\/dev\/null 2&gt;&amp;1/\ false /g"</span> meteor_install_script.sh</div><div class="line">./meteor_install_script.sh</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:~/.meteor/</div><div class="line">meteor --version</div><div class="line"></div><div class="line"><span class="comment"># Install any other app depenedcies</span></div><div class="line"><span class="comment"># clone of your app at this location</span></div><div class="line"><span class="built_in">cd</span> ~/<span class="built_in">clone</span>/ &amp;&amp; npm install</div></pre></td></tr></table></figure>
<h2 id="Test-commands"><a href="#Test-commands" class="headerlink" title="Test commands"></a>Test commands</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> ~/<span class="built_in">clone</span></div><div class="line"></div><div class="line"><span class="comment"># run unit tests</span></div><div class="line">spacejam <span class="built_in">test</span> --driver-package=practicalmeteor:mocha-console-runner</div><div class="line"></div><div class="line"><span class="comment"># run full app integration tests </span></div><div class="line">spacejam <span class="built_in">test</span> --full-app --driver-package=practicalmeteor:mocha-console-runner</div><div class="line"></div><div class="line"><span class="comment"># start your in background </span></div><div class="line">nohup bash -c <span class="string">"meteor --settings=settings.json 2&gt;&amp;1 &amp;"</span> &amp;&amp; sleep 3m; cat nohup.out</div><div class="line"><span class="comment"># then Chimp will use that instance and run acceptance tests</span></div><div class="line">chimp --ddp=http://localhost:3000 --mocha --path=chimp/tests</div></pre></td></tr></table></figure>
<p>At line 4 and 6 use <a href="https://www.npmjs.com/package/spacejam" target="_blank" rel="external">spacejam</a> to run meteor test in command line interface.<br>At line 10 run Meteor at <a href="https://documentation.codeship.com/continuous-integration/run-a-command-in-the-background/" target="_blank" rel="external">background</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/13/Meteor-Codeship/" data-id="cj3rk01c4000414d2abjpipqp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Meteor-acceptance-testing" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/10/Meteor-acceptance-testing/" class="article-date">
  <time datetime="2016-08-10T08:28:56.000Z" itemprop="datePublished">2016-08-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/10/Meteor-acceptance-testing/">Meteor acceptance testing</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>Acceptance tests</em> tests the features of your app. Those features are tested it the same way as users would use those features.<br>We want to automate (as oppose to manual testing) this process. So test will start browser, which interact with your app’s UI in the same way as any user.</p>
<p>Sounds simple enough, right? But when you writing your tests, you can create technology debt even without knowing it.<br>Before you start reading or after you finish, consider reading <a href="https://github.com/xolvio/automated-testing-best-practices/blob/master/content/TESTING-SUCCESS-FACTORS.md" target="_blank" rel="external">Testing Success Factors</a> from <a href="http://xolv.io/" target="_blank" rel="external">Xolv.io</a> - masters of testing.      </p>
<p>We will need some software tools. I will list those here, then I will dive into installation / usage details down below.</p>
<ul>
<li><a href="https://chimp.readme.io/" target="_blank" rel="external">Chimp</a> - tests will be run with <em>Chimp</em> </li>
<li><a href="https://mochajs.org/" target="_blank" rel="external">Mocha</a> - test will be written with in this framework</li>
<li><a href="http://chaijs.com/" target="_blank" rel="external">Chai</a> - assertion library, it will help us assert test outputs with defined values</li>
<li><a href="http://webdriver.io/" target="_blank" rel="external">Webdriver.io</a> - it will control the browser </li>
</ul>
<h2 id="Creating-tests"><a href="#Creating-tests" class="headerlink" title="Creating tests"></a>Creating tests</h2><p>In your Meteor app create directory called <code>tests</code>. Any directory with name <code>tests</code> is not loaded by Meteor. See <a href="https://guide.meteor.com/structure.html#special-directories" target="_blank" rel="external">Meteor special directories</a>.</p>
<p>Firstly we will need to abstract information about <em>HTML page (under test)</em> with <em>page object pattern</em>. Then we will create the <em>test file</em> itself.<br>Before we start let’s get familiar with <em>page object pattern</em> first.</p>
<h2 id="Page-object-pattern"><a href="#Page-object-pattern" class="headerlink" title="Page object pattern"></a>Page object pattern</h2><p><em>Page object</em> is a class which encapsulates logic of particular page. It stores DOM selectors and returns elements defined by these selectors.<br>The reason why to have <em>page object</em> is whether UI changes, only pageObject should be rewritten and then tests should still work.<br>It is <em>DRY</em>, because <em>selectors</em> are in one place in <em>page object</em>, and not in many places in tests.<br>With <em>page object</em> test can be much explicitly written and therefore much simpler to understand.</p>
<h3 id="More-on-page-objects"><a href="#More-on-page-objects" class="headerlink" title="More on page objects"></a>More on page objects</h3><p>Martin’s Fowler <a href="http://martinfowler.com/bliki/PageObject.html" target="_blank" rel="external">page object</a><br><em>Page object</em> in <a href="http://webdriver.io/guide/testrunner/pageobjects.html" target="_blank" rel="external">webdriver.io</a>, ES5 code only:(</p>
<h3 id="Page-object-and-test-Files"><a href="#Page-object-and-test-Files" class="headerlink" title="Page object and test Files"></a>Page object and test Files</h3><p><em>Note that these three files down below are just example files. You cannot get test working only by copying these files. You would also have to write down exact HTML code of tested page.</em>   </p>
<h4 id="page-js"><a href="#page-js" class="headerlink" title="page.js"></a>page.js</h4><p><em>page.js</em> is a base class which other <em>page object</em> classes will extend.<br>In this particular code to get <code>open()</code> method working, you need to install <code>url</code> module:</p>
<pre><code>$ npm install --save-dev url
</code></pre><p>More on using <a href="https://guide.meteor.com/using-npm-packages.html" target="_blank" rel="external">npm with Meteor</a>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// page.js</span></div><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> urlModule <span class="keyword">from</span> <span class="string">'url'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Page</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// opens any of given relative path</span></div><div class="line">    open(path) &#123;</div><div class="line">        browser.url(urlModule.resolve(process.env.ROOT_URL, path));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="lesson-page-js"><a href="#lesson-page-js" class="headerlink" title="lesson.page.js"></a>lesson.page.js</h4><p><em>lesson.page.js</em> extends <em>page.js</em>. It can contain any logic of real lesson’s <em>HTML</em> page.<br>In this code <code>browser.element()</code> refers to webdriver.io instance and <em>element()</em> method. In Chimp <code>browser</code> object is global, you don’t need to import anything.</p>
<p>Note also that in <a href="http://webdriver.io/api/protocol/element.html" target="_blank" rel="external">webdriver.io</a>: <code>client === browser</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// lesson.page.js</span></div><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> Page <span class="keyword">from</span> <span class="string">'./page'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">LessonsPage</span> <span class="keyword">extends</span> <span class="title">Page</span> </span>&#123;</div><div class="line"></div><div class="line">    open() &#123;</div><div class="line">        <span class="keyword">super</span>.open(<span class="string">'kurz-zakladni'</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    get newLesson() &#123;</div><div class="line">        <span class="keyword">return</span> browser.element(<span class="string">'#new-lesson'</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    get lessonNameInput() &#123;</div><div class="line">        <span class="keyword">return</span> browser.element(<span class="string">'#lesson-name-input'</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    get newLessonOK() &#123;</div><div class="line">        <span class="keyword">return</span> browser.element(<span class="string">'#new-lesson-ok'</span>);</div><div class="line">    &#125;</div><div class="line">        </div><div class="line">    get lessonName() &#123;</div><div class="line">        <span class="keyword">return</span> browser.element(<span class="string">'#lessonName'</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="lessonTest-js"><a href="#lessonTest-js" class="headerlink" title="lessonTest.js"></a>lessonTest.js</h4><p>Finally our test file <code>lessonTest.js</code>. We use <a href="https://mochajs.org/#getting-started" target="_blank" rel="external">mocha’s</a> <code>describe()</code> and <code>it()</code> functions.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// lessonTest.js</span></div><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> LessonsPage <span class="keyword">from</span> <span class="string">'./pageObjects/lessons.page'</span>;</div><div class="line"></div><div class="line">describe(<span class="string">'On essons page'</span>, () =&gt; &#123;</div><div class="line">    <span class="keyword">let</span> lessonPage = <span class="keyword">new</span> LessonsPage();</div><div class="line">    <span class="keyword">let</span> lessonName = <span class="string">'Test lesson 1'</span></div><div class="line">    </div><div class="line">    <span class="comment">// this test has @dev annotation</span></div><div class="line">    <span class="comment">// it will be run in Chimp --watch mode</span></div><div class="line">    <span class="comment">// more details below</span></div><div class="line">    it(<span class="string">'you should create new lesson @dev'</span>, () =&gt; &#123;</div><div class="line">        lessonPage.open();</div><div class="line">        lessonPage.newLesson.click();</div><div class="line">        lessonPage.lessonNameInput.setValue(lessonName);</div><div class="line">        lessonPage.newLessonOK.click();</div><div class="line">        </div><div class="line">        <span class="comment">// assert result with Chai</span></div><div class="line">        lessonPage.lessonName.should.equal(lessonName);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="Chimp"><a href="#Chimp" class="headerlink" title="Chimp"></a>Chimp</h2><p>We will run tests with <a href="https://chimp.readme.io/" target="_blank" rel="external">Chimp</a>. It elegantly integrates with Meteor. Install it globally with npm:</p>
<pre><code>$ npm i -g chimp
</code></pre><h4 id="Run-tests"><a href="#Run-tests" class="headerlink" title="Run tests"></a>Run tests</h4><p>Firstly start your Meteor app on port 3000 (default port).</p>
<pre><code>$ cd my-meteor-app
$ meteor
</code></pre><p>Then run tests with Chimp. Remember have your Meteor app running and provide the correct path to tests with <code>--path</code> flag.  </p>
<pre><code>$ chimp --ddp=http://localhost:3000 --watch --mocha --path=chimp/tests
</code></pre><p>Witout <code>--browser</code> flag Chrome is set as <a href="https://github.com/xolvio/chimp/blob/master/src/bin/default.js#L38" target="_blank" rel="external">default browser</a>. Use flag <code>--browser</code> to run tests in other browser.</p>
<p>With <code>--watch</code> flag only tests with <code>@dev</code> annotation are run. Without <code>--watch</code> all test are run <em>once</em>.</p>
<h4 id="Optional-webdriver-io-configuration-file"><a href="#Optional-webdriver-io-configuration-file" class="headerlink" title="Optional webdriver.io configuration file"></a>Optional webdriver.io configuration file</h4><p>Create config file to change behavior of <em>webdriver.io</em>.</p>
<p>It can be handy to change time limit for <a href="http://webdriver.io/api/utility/waitForVisible.html" target="_blank" rel="external">waitForVisible()</a> method. Default time limit is 500 ms, which can be sometimes too short.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">// config.js</span></div><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="comment">// it has to be ES5 export, otherwise it would not work with Chimp</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    <span class="attr">webdriverio</span>: &#123;</div><div class="line">        <span class="attr">waitforTimeout</span>: <span class="number">2000</span></div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>Pass <em>config.js</em> as a first argument to <em>Chimp</em>.</p>
<pre><code>$ chimp chimp/config.js --ddp=http://localhost:3000 --watch --mocha --path=chimp/tests
</code></pre><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>With help of page object and other smart technologies we can maintain our acceptance test base with more ease. Test will become less fragile.<br>Test can be run after each commit locally, which could be annoying after while. Better way is to set up CI environment to run tests there. In my next article, I want to explore this option as well.</p>
<p>Do you want to improve <a href="https://github.com/jirikrepl/jirikrepl.com-hexo/blob/master/source/_posts/Meteor-acceptance-testing.md" target="_blank" rel="external">this article</a>? Pass me a pull request.           </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/10/Meteor-acceptance-testing/" data-id="cj3rk01c2000314d2e3p9ph55" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-SEO-notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/23/SEO-notes/" class="article-date">
  <time datetime="2016-07-23T13:52:43.000Z" itemprop="datePublished">2016-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/23/SEO-notes/">SEO notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Hosting-on-national-vs-com-domain"><a href="#Hosting-on-national-vs-com-domain" class="headerlink" title="Hosting on national vs .com domain"></a>Hosting on national vs .com domain</h2><p>First option is to have .com domain and switch between languages. Second option is to have coutry code domain (.cz, sk, …) for every language.<br>Is there difference in SERP rankings between those two SEO plans?</p>
<p>Country code top-level domains (ccTLDs) rank better than .com domain in different languages.</p>
<h3 id="Sources"><a href="#Sources" class="headerlink" title="Sources"></a>Sources</h3><p><a href="https://moz.com/learn/seo/cctlds" target="_blank" rel="external">ccTLDs @ MOZ</a></p>
<p><a href="http://www.clickz.com/clickz/column/2284334/when-cctlds-can-make-a-difference-in-the-overall-seo-campaign" target="_blank" rel="external">When ccTLDs Can Make a Difference in the Overall SEO Campaign</a></p>
<p><a href="http://www.them.pro/National-International-Domain-Name-Extension-SEO" target="_blank" rel="external">http://www.them.pro/National-International-Domain-Name-Extension-SEO</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/23/SEO-notes/" data-id="cj3rk01c5000514d2fhw0fntu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Learning-Meteor" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/23/Learning-Meteor/" class="article-date">
  <time datetime="2016-07-23T13:12:08.000Z" itemprop="datePublished">2016-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/23/Learning-Meteor/">Learning Meteor</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p><a href="https://www.meteor.com/" target="_blank" rel="external">Meteor</a> is awesome. A whole platform, not just a front-end JavaScript framework.</p>
<p><a href="http://nerds.airbnb.com/isomorphic-javascript-future-web-apps/" target="_blank" rel="external">This article</a> covers history web applications’ development.<br>I have just realized that my app does not need an <a href="http://nerds.airbnb.com/wp-content/uploads/2013/11/Screen-Shot-2013-11-07-at-10.29.32-AM.png" target="_blank" rel="external">API</a>. API is for third party developers. I don’t need a back-end and a front-end divided by an API.</p>
<h2 id="Things-I-like-about-Meteor"><a href="#Things-I-like-about-Meteor" class="headerlink" title="Things I like about Meteor"></a>Things I like about Meteor</h2><p>I came from PHP and later Symfony with Angular background. Lastly I have worked with Gulp to build my own deployment model.<br>I just realized that in Meteor (if your app is simple enough) you don’t need to use Gulp at all. Meteor give you sophisticated build and deployment process for free.</p>
<h3 id="Lifereload"><a href="#Lifereload" class="headerlink" title="Lifereload"></a>Lifereload</h3><p>When you start your your Meteor app on localhost, your project files are watched for changes. And browser reloads every time you save a file.<br>That means no more manual browser reloading. This mimic the same behavior with <a href="https://www.npmjs.com/package/gulp-watch" target="_blank" rel="external">gulp-watch</a> plugin and <a href="http://www.browsersync.io/" target="_blank" rel="external">Browsersync</a>. In Meteor it’s for free:D</p>
<h3 id="No-script-and-link-tags"><a href="#No-script-and-link-tags" class="headerlink" title="No script and link tags"></a>No script and link tags</h3><p>In your <em>HTML</em> code you don’t need to use <code>&lt;script&gt;</code> and <code>&lt;link&gt;</code> elements link your <em>JavaScript</em> and <em>CSS</em> files. Just put them in some directory and Meteor link them automatically.</p>
<h3 id="Minification"><a href="#Minification" class="headerlink" title="Minification"></a>Minification</h3><p>You don’t need to concat and minify static assets, it is done automatically</p>
<h3 id="Cache-busting"><a href="#Cache-busting" class="headerlink" title="Cache busting"></a>Cache busting</h3><p>Automatic <a href="http://www.adopsinsider.com/ad-ops-basics/what-is-a-cache-buster-and-how-does-it-work/" target="_blank" rel="external">cache busting</a>. Meteor adds new hash tag to your *.js and *.css files every time you change those files. Then any updated files are freshly downloaded to your browser. </p>
<p><img src="/images/meteorHashAssets.png" alt=""></p>
<h2 id="Useful-Meteor-packages"><a href="#Useful-Meteor-packages" class="headerlink" title="Useful Meteor packages"></a>Useful Meteor packages</h2><p>These are packages I maybe will use. I am building multilang web app.</p>
<p><a href="https://atmospherejs.com/yogiben/admin" target="_blank" rel="external">yogiben:admin</a> - A complete admin dashboard solution</p>
<p><a href="https://atmospherejs.com/tap/i18n" target="_blank" rel="external">tap:i18n</a> - A comprehensive internationalization solution for Meteor</p>
<p><a href="https://atmospherejs.com/tap/i18n-ui" target="_blank" rel="external">tap:i18n-ui</a> - User interface for the tap-i18n package</p>
<p><a href="https://atmospherejs.com/tap/i18n-db" target="_blank" rel="external">tap:i18n-db</a> - Internationalization for Meteor Collections</p>
<p><a href="https://atmospherejs.com/martino/iron-router-i18n" target="_blank" rel="external">martino:iron-router-i18n</a> - Router with i18n support. Lang parameters in URL</p>
<p><a href="https://atmospherejs.com/iron/router" target="_blank" rel="external">iron:router</a> - Router for Meteor. Here is <a href="http://iron-meteor.github.io/iron-router/" target="_blank" rel="external">guide</a></p>
<h2 id="Things-to-consider"><a href="#Things-to-consider" class="headerlink" title="Things to consider"></a>Things to consider</h2><p>There is an article with great name about intricacies of the framework: <a href="https://medium.com/@llaine/meteor-the-dark-side-of-the-moon-f885d8fdbf6a" target="_blank" rel="external">Meteor, the dark side of the moon</a><br>And here following discussion on <a href="https://crater.io/posts/8j5iT2Z8mgLcbxkGp" target="_blank" rel="external">Crater.io</a>.</p>
<p>Deployment should be easy with <a href="https://github.com/arunoda/meteor-up" target="_blank" rel="external">Meteor up</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/23/Learning-Meteor/" data-id="cj3rk01bw000114d2b04m1cme" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Enable-Xdebug-on-Windows" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/23/Enable-Xdebug-on-Windows/" class="article-date">
  <time datetime="2016-07-23T13:05:23.000Z" itemprop="datePublished">2016-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/23/Enable-Xdebug-on-Windows/">Enable Xdebug on Windows</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In order to install and configure Xdebug on Windows machine:</p>
<ul>
<li><p>In terminal create file with phpInfo() output: </p>
<pre><code>$ php -i &gt; phpOutput
</code></pre></li>
<li><p>Copy the contents of phpOutput to form <a href="http://xdebug.org/wizard.php" target="_blank" rel="external">on this page</a> and press <em>Analyze</em> button</p>
</li>
<li><p>Follow instructions on page and download generated Xdebug ddl</p>
</li>
<li><p>Edit <code>php.ini</code> file. Set proper path to <code>ddl</code> file. Uncoment those lines below. </p>
<pre><code>[XDebug]
zend_extension = C:\xampp\php\ext\php_xdebug-2.3.1-5.6-vc11.dll
xdebug.remote_enable = 1    
xdebug.remote_handler = &quot;dbgp&quot;    
xdebug.remote_host = &quot;127.0.0.1&quot;
</code></pre></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/23/Enable-Xdebug-on-Windows/" data-id="cj3rk01c0000214d2mt7dd32d" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/13/hello-world/" class="article-date">
  <time datetime="2016-07-13T16:45:09.000Z" itemprop="datePublished">2016-07-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/13/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/13/hello-world/" data-id="cj3rk01c7000714d2nq86174p" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/06/10/Top-ten-Meteor-tips-and-tricks/">Top ten Meteor tips and tricks</a>
          </li>
        
          <li>
            <a href="/2016/09/13/Meteor-Codeship/">Meteor + Codeship</a>
          </li>
        
          <li>
            <a href="/2016/08/10/Meteor-acceptance-testing/">Meteor acceptance testing</a>
          </li>
        
          <li>
            <a href="/2016/07/23/SEO-notes/">SEO notes</a>
          </li>
        
          <li>
            <a href="/2016/07/23/Learning-Meteor/">Learning Meteor</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Jiří Krepl<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>